<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ProFreelance Mahasiswa</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Roboto',sans-serif;}
body{height:100vh;overflow-x:hidden;display:flex;justify-content:center;align-items:center;position:relative;}

/* Canvas background */
canvas#bgCanvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;}

/* Gradient overlay */
body::before{
  content:"";position:fixed;top:0;left:0;width:100%;height:100%;
  background:linear-gradient(135deg,#2575fc,#6a11cb);z-index:-2;
}

/* Form container */
.form-container{
  background:rgba(255,255,255,0.9);
  backdrop-filter:blur(10px);
  width:90%;
  max-width:900px;
  border-radius:20px;
  box-shadow:0 20px 50px rgba(0,0,0,0.4);
  padding:50px 40px;
  position:relative;
  overflow:hidden;
}
.form-container h1{
  text-align:center;
  color:#2575fc;
  margin-bottom:25px;
  font-size:2rem;
  animation:fadeInDown 0.8s ease;
}
@keyframes fadeInDown{
  from{opacity:0;transform:translateY(-20px);}
  to{opacity:1;transform:translateY(0);}
}

/* Thank You Message */
#thankYouMsg{
  display:none;
  text-align:center;
  margin-bottom:30px;
  padding:20px;
  background:linear-gradient(90deg,#2575fc,#6a11cb);
  color:#fff;
  border-radius:15px;
  font-size:1.2rem;
  font-weight:500;
}

/* Input group spacing */
.input-group{position:relative;margin-top:25px;}
input, select, textarea{
  width:100%;padding:14px 15px;border:1.5px solid #ccc;border-radius:12px;
  outline:none;background:#fff;font-size:1rem;transition:0.3s;
}
input:focus, select:focus, textarea:focus{
  border-color:#2575fc;box-shadow:0 0 12px rgba(37,117,252,0.3);
}
label{
  position:absolute;top:50%;left:15px;transform:translateY(-50%);
  background:#fff;padding:0 5px;color:#999;font-size:0.95rem;pointer-events:none;transition:0.3s;
}
input:focus + label, input:not(:placeholder-shown) + label,
select:focus + label, select:not([value=""]) + label,
textarea:focus + label, textarea:not(:placeholder-shown) + label{
  top:-10px;font-size:0.8rem;color:#2575fc;
}

/* Buttons */
.buttons{display:flex;justify-content:space-between;margin-top:30px;flex-wrap:wrap;gap:12px;}
.buttons button{
  flex:1;padding:14px 0;border:none;border-radius:14px;font-size:1rem;
  cursor:pointer;transition:0.4s;box-shadow:0 5px 15px rgba(0,0,0,0.25);
}
.next-btn{background:#2575fc;color:#fff;position:relative;overflow:hidden;}
.next-btn:hover{background:linear-gradient(45deg,#2575fc,#6a11cb);box-shadow:0 0 20px #2575fc;transform:scale(1.03);}
.prev-btn{background:#ccc;color:#333;}
.prev-btn:hover{background:#999;transform:scale(1.03);}

/* Progress bar */
.progress-bar{width:100%;height:8px;background:#eee;border-radius:12px;overflow:hidden;margin-bottom:25px;}
.progress{height:100%;width:0%;background:linear-gradient(90deg,#2575fc,#6a11cb);transition:0.5s;}

/* Form step animation */
.form-step{display:none;animation:fadeSlide 0.7s ease;}
@keyframes fadeSlide{from{opacity:0;transform:translateX(40px);}to{opacity:1;transform:translateX(0);}}

/* Responsive */
@media (max-width:600px){
  .form-container{padding:30px 20px;}
  .buttons button{flex:100%;}
  .form-container h1{font-size:1.6rem;}
}
</style>
</head>
<body>

<canvas id="bgCanvas"></canvas>

<div class="form-container">
  <h1>Daftar Freelancer Mahasiswa</h1>
  <div id="thankYouMsg"></div>
  <div class="progress-bar"><div class="progress" id="progress"></div></div>
  <form id="freelanceForm">
    <!-- Step 1 -->
    <div class="form-step step-1">
      <div class="input-group">
        <input type="text" id="fullname" name="fullname" placeholder=" " required>
        <label for="fullname">Nama Lengkap</label>
      </div>
      <div class="input-group">
        <input type="email" id="email" name="email" placeholder=" " required>
        <label for="email">Email</label>
      </div>
      <div class="input-group">
        <input type="tel" id="phone" name="phone" placeholder=" " required>
        <label for="phone">Nomor Telepon</label>
      </div>
      <div class="input-group">
        <select id="gender" name="gender" required>
          <option value="">Pilih jenis kelamin</option>
          <option value="male">Laki-laki</option>
          <option value="female">Perempuan</option>
          <option value="other">Lainnya</option>
        </select>
        <label for="gender">Jenis Kelamin</label>
      </div>
      <div class="buttons"><div></div><button type="button" class="next-btn" id="next1">Next</button></div>
    </div>

    <!-- Step 2 -->
    <div class="form-step step-2">
      <div class="input-group">
        <input type="date" id="dob" name="dob" placeholder=" " required>
        <label for="dob">Tanggal Lahir</label>
      </div>
      <div class="input-group">
        <textarea id="address" name="address" rows="2" placeholder=" " required></textarea>
        <label for="address">Alamat Lengkap</label>
      </div>
      <div class="input-group">
        <input type="url" id="linkedin" name="linkedin" placeholder=" ">
        <label for="linkedin">LinkedIn / Profil Profesional (Opsional)</label>
      </div>
      <div class="buttons">
        <button type="button" class="prev-btn" id="prev2">Prev</button>
        <button type="button" class="next-btn" id="next2">Next</button>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="form-step step-3">
      <div class="input-group">
        <textarea id="skills" name="skills" rows="3" placeholder=" " required></textarea>
        <label for="skills">Keahlian</label>
      </div>
      <div class="input-group">
        <textarea id="experience" name="experience" rows="4" placeholder=" " required></textarea>
        <label for="experience">Pengalaman / Project</label>
      </div>
      <div class="input-group">
        <input type="url" id="portfolio" name="portfolio" placeholder=" ">
        <label for="portfolio">Link Portfolio (Opsional)</label>
      </div>
      <div class="buttons">
        <button type="button" class="prev-btn" id="prev3">Prev</button>
        <button type="button" class="next-btn" id="next3">Next</button>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="form-step step-4">
      <div class="input-group">
        <select id="category" name="category" required>
          <option value="">Pilih kategori</option>
          <option value="content">Content Writing</option>
          <option value="design">Desain Grafis</option>
          <option value="video">Video Editing</option>
          <option value="dataentry">Data Entry / Excel</option>
          <option value="socialmedia">Social Media Support</option>
          <option value="microtask">Survey / Microtask</option>
          <option value="tutor">Tutor Online</option>
          <option value="Accounting">Staf Accounting</option>
        </select>
        <label for="category">Bidang / Kategori Kerja</label>
      </div>
      <div class="input-group">
        <select id="level" name="level" required>
          <option value="">Pilih level</option>
          <option value="junior">Junior</option>
          <option value="mid">Mid</option>
        </select>
        <label for="level">Tingkat Pengalaman</label>
      </div>
      <div class="input-group">
        <input type="text" id="languages" name="languages" placeholder=" " required>
        <label for="languages">Bahasa yang Dikuasai</label>
      </div>
      <div class="buttons">
        <button type="button" class="prev-btn" id="prev4">Prev</button>
        <button type="button" class="next-btn" id="next4">Next</button>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="form-step step-5">
      <div class="input-group">
        <input type="text" id="salary" name="salary" placeholder=" " required>
        <label for="salary">Tarif / Gaji Freelance</label>
      </div>
      <div class="input-group">
        <select id="payment" name="payment" required>
          <option value="">Pilih metode pembayaran</option>
          <option value="bank">Bank Transfer</option>
          <option value="paypal">PayPal</option>
          <option value="gopay">GoPay / OVO / Dana</option>
        </select>
        <label for="payment">Metode Pembayaran</label>
      </div>
      <div class="input-group">
        <textarea id="availability" name="availability" rows="2" placeholder=" " required></textarea>
        <label for="availability">Ketersediaan Hari / Jam Kerja</label>
      </div>
      <div class="buttons">
        <button type="button" class="prev-btn" id="prev5">Prev</button>
        <button type="button" class="next-btn" id="next5">Next</button>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="form-step step-6">
      <div class="input-group">
        <input type="text" id="hobbies" name="hobbies" placeholder=" " required>
        <label for="hobbies">Hobi / Minat Khusus</label>
      </div>
      <div class="input-group">
        <textarea id="weekly" name="weekly" rows="2" placeholder=" " required></textarea>
        <label for="weekly">Ketersediaan Mingguan (Hari & Jam)</label>
      </div>
      <div class="input-group">
        <input type="text" id="source" name="source" placeholder=" " required>
        <label for="source">Dari mana tahu lowongan ini?</label>
      </div>
      <div class="input-group">
        <textarea id="goal" name="goal" rows="2" placeholder=" " required></textarea>
        <label for="goal">Harapan / Tujuan Freelance</label>
      </div>
      <div class="buttons">
        <button type="button" class="prev-btn" id="prev6">Prev</button>
        <button type="button" class="next-btn" id="next6">Next</button>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="form-step step-7">
      <div class="input-group">
        <textarea id="about" name="about" rows="4" placeholder=" " required></textarea>
        <label for="about">Tentang Diri Anda</label>
      </div>
      <div class="input-group">
        <input type="file" id="upload" name="upload" accept=".pdf,.jpg,.png,.zip">
        <label for="upload">Upload File Portfolio (Opsional)</label>
      </div>
      <div class="input-group">
      </div>
      <div class="buttons">
        <button type="button" class="prev-btn" id="prev7">Prev</button>
        <button type="submit" class="next-btn">Submit</button>
      </div>
    </div>

  </form>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
<script>
  // Firebase config - ganti dengan milikmu
  const firebaseConfig = {
    apiKey: "API_KEY",
    authDomain: "frelance-f5aae.firebaseapp.com",
    databaseURL: "https://frelance-f5aae-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "frelance-f5aae",
    storageBucket: "frelance-f5aae.appspot.com",
    messagingSenderId: "SENDER_ID",
    appId: "APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const storage = firebase.storage();
</script>

<script>
// Background particles
const canvas=document.getElementById('bgCanvas');
const ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
class Particle{constructor(){this.x=Math.random()*canvas.width;this.y=Math.random()*canvas.height;this.vx=Math.random()*0.25-0.125;this.vy=Math.random()*0.25-0.125;this.size=Math.random()*2+0.5;this.color=`rgba(255,255,255,${Math.random()*0.5+0.2})`;}update(){this.x+=this.vx;this.y+=this.vy;if(this.x<0||this.x>canvas.width)this.vx*=-1;if(this.y<0||this.y>canvas.height)this.vy*=-1;}draw(){ctx.fillStyle=this.color;ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,Math.PI*2);ctx.fill();}}
let particles=[];for(let i=0;i<150;i++)particles.push(new Particle());
function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);particles.forEach(p=>{p.update();p.draw();});for(let i=0;i<particles.length;i++){for(let j=i+1;j<particles.length;j++){let dx=particles[i].x-particles[j].x;let dy=particles[i].y-particles[j].y;let dist=Math.sqrt(dx*dx+dy*dy);if(dist<120){ctx.strokeStyle=`rgba(255,255,255,${0.2-dist/600})`;ctx.lineWidth=1;ctx.beginPath();ctx.moveTo(particles[i].x,particles[i].y);ctx.lineTo(particles[j].x,particles[j].y);ctx.stroke();}}}requestAnimationFrame(animate);}
animate();window.addEventListener('resize',()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight;});

// Multi-step form
let currentStep=0;
const steps=document.querySelectorAll('.form-step');
const progress=document.getElementById('progress');
function updateStep(step){steps.forEach((s,i)=>s.style.display=i===step?'block':'none');progress.style.width=((step+1)/steps.length*100)+'%';}
updateStep(currentStep);

// Navigation
['next1','next2','next3','next4','next5','next6'].forEach((id)=>{document.getElementById(id).onclick=()=>{currentStep++;updateStep(currentStep);}});
['prev2','prev3','prev4','prev5','prev6','prev7'].forEach((id)=>{document.getElementById(id).onclick=()=>{currentStep--;updateStep(currentStep);}});

// Submit form
document.getElementById('freelanceForm').onsubmit=async function(e){
  e.preventDefault();
  const name=document.getElementById('fullname').value;

  // Ambil semua data
  const formData={
    fullname: document.getElementById('fullname').value,
    email: document.getElementById('email').value,
    phone: document.getElementById('phone').value,
    gender: document.getElementById('gender').value,
    dob: document.getElementById('dob').value,
    address: document.getElementById('address').value,
    linkedin: document.getElementById('linkedin').value,
    skills: document.getElementById('skills').value,
    experience: document.getElementById('experience').value,
    portfolio: document.getElementById('portfolio').value,
    category: document.getElementById('category').value,
    level: document.getElementById('level').value,
    languages: document.getElementById('languages').value,
    salary: document.getElementById('salary').value,
    payment: document.getElementById('payment').value,
    availability: document.getElementById('availability').value,
    hobbies: document.getElementById('hobbies').value,
    weekly: document.getElementById('weekly').value,
    source: document.getElementById('source').value,
    goal: document.getElementById('goal').value,
    about: document.getElementById('about').value,
  };

  // Upload file portfolio jika ada
  const fileInput=document.getElementById('upload');
  if(fileInput.files.length>0){
    const file=fileInput.files[0];
    const storageRef=storage.ref('portfolios/'+Date.now()+'_'+file.name);
    await storageRef.put(file);
    const url=await storageRef.getDownloadURL();
    formData.portfolioFile=url;
  }

  // Simpan ke Firebase Realtime Database
  const newRef=db.ref('freelancers').push();
  await newRef.set(formData);

  // Tampilkan pesan terima kasih
  document.getElementById('freelanceForm').style.display='none';
  const msgDiv=document.getElementById('thankYouMsg');
  msgDiv.innerHTML=`Terima kasih, <strong>${name}</strong>! Data Anda berhasil dikirim.`;
  msgDiv.style.display='block';
};
</script>
</body>
</html>
